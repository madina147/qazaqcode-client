// QazaqCode Assignment Component Styles
// Colors from global theme
$primary-color: #00685A; // Main teal color from QazaqCode header
$primary-light: #008E7B;
$primary-dark: #00463D;
$secondary-color: #3498db;
$secondary-light: #5DADE2;
$secondary-dark: #2874A6;
$accent-color: #FF7700;
$success-color: #2ecc71;
$warning-color: #f39c12;
$danger-color: #e74c3c;
$text-dark: #2c3e50;
$text-light: #34495e;
$text-muted: #7f8c8d;
$background-light: #f8f9fa;
$background-medium: #f1f2f6;
$background-card: #ffffff;
$border-color: #dfe4ea;

// Shadows and effects
$card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
$hover-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
$focus-shadow: 0 0 0 3px rgba(0, 104, 90, 0.2);

// Mixins for consistent styling
@mixin card {
  background-color: $background-card;
  border-radius: 10px;
  box-shadow: $card-shadow;
  overflow: hidden;
}

@mixin button-base {
  padding: 0.75rem 1.25rem;
  border-radius: 6px;
  font-weight: 500;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  text-decoration: none;
  display: inline-block;
  text-align: center;
  
  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }
}

@mixin primary-button {
  @include button-base;
  background-color: $primary-color;
  color: white;
  
  &:hover:not(:disabled) {
    background-color: $primary-light;
  }
  
  &:active:not(:disabled) {
    background-color: $primary-dark;
  }
  
  &:focus {
    outline: none;
    box-shadow: $focus-shadow;
  }
}

@mixin secondary-button {
  @include button-base;
  background-color: $background-medium;
  color: $text-dark;
  
  &:hover:not(:disabled) {
    background-color: darken($background-medium, 5%);
  }
  
  &:active:not(:disabled) {
    background-color: darken($background-medium, 10%);
  }
  
  &:focus {
    outline: none;
    box-shadow: $focus-shadow;
  }
}

// QazaqCode Assignment Modules - Prevent global style overrides with .qazaq-assignments wrapper
.qazaq-assignments {
  // Typography
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  color: $text-dark;
  line-height: 1.5;
  
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
    margin-bottom: 1rem;
    font-weight: 600;
    line-height: 1.2;
    color: $text-dark;
  }
  
  h1 { font-size: 2rem; }
  h2 { font-size: 1.5rem; }
  h3 { font-size: 1.25rem; }
  h4 { font-size: 1.125rem; }
  h5 { font-size: 1rem; }
  h6 { font-size: 0.875rem; }
  
  p {
    margin-top: 0;
    margin-bottom: 1rem;
  }
  
  a {
    color: $secondary-color;
    text-decoration: none;
    
    &:hover {
      text-decoration: underline;
    }
  }
  
  // Common container styles
  .assignment-container {
    @include card;
    padding: 1.5rem;
    margin: 0 auto;
    max-width: 1000px;
    width: 100%;
  }
  
  // Back link
  .back-link {
    display: flex;
    align-items: center;
    color: $text-light;
    margin-bottom: 1.5rem;
    font-weight: 500;
    transition: color 0.2s;
    
    &:before {
      content: "‚Üê";
      margin-right: 0.5rem;
      font-size: 1.25rem;
      line-height: 1;
    }
    
    &:hover {
      color: $primary-color;
      text-decoration: none;
    }
  }
  
  // Status indicators
  .status-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.75rem;
    border-radius: 50px;
    font-size: 0.875rem;
    font-weight: 500;
    
    &.submitted {
      background-color: rgba($warning-color, 0.15);
      color: darken($warning-color, 15%);
    }
    
    &.ai-evaluated {
      background-color: rgba($secondary-color, 0.15);
      color: darken($secondary-color, 15%);
    }
    
    &.teacher-evaluated {
      background-color: rgba($success-color, 0.15);
      color: darken($success-color, 15%);
    }
    
    &.pending-review {
      background-color: rgba($accent-color, 0.15);
      color: darken($accent-color, 15%);
    }
    
    &.overdue {
      background-color: rgba($danger-color, 0.15);
      color: darken($danger-color, 15%);
    }
    
    &.approaching {
      background-color: rgba($warning-color, 0.15);
      color: darken($warning-color, 15%);
    }
  }
  
  // Assignment Detail Styles
  .assignment-detail {
    .header {
      margin-bottom: 1.5rem;
      
      h1 {
        margin-bottom: 0.5rem;
      }
    }
    
    .meta-info {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
      
      .meta-item {
        display: flex;
        align-items: center;
        
        .label {
          font-weight: 500;
          margin-right: 0.5rem;
          color: $text-muted;
        }
      }
    }
    
    .description-section {
      @include card;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      
      h2 {
        margin-top: 0;
        margin-bottom: 1rem;
        font-size: 1.25rem;
      }
    }
    
    .attachments-section {
      margin-top: 1.5rem;
      
      h3 {
        font-size: 1.125rem;
        margin-bottom: 1rem;
      }
      
      .attachment-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        padding: 0;
        list-style: none;
        
        .attachment-item {
          .attachment-link {
            display: flex;
            align-items: center;
            padding: 0.5rem 1rem;
            background-color: $background-light;
            border-radius: 6px;
            transition: background-color 0.2s;
            
            &:before {
              content: "üìÅ";
              margin-right: 0.5rem;
            }
            
            &:hover {
              background-color: darken($background-light, 5%);
              text-decoration: none;
            }
          }
        }
      }
    }
    
    .submission-section {
      @include card;
      padding: 1.5rem;
      margin-top: 1.5rem;
      
      h2 {
        margin-top: 0;
        margin-bottom: 1rem;
        font-size: 1.25rem;
      }
      
      .solution-content {
        margin-bottom: 1.5rem;
      }
      
      .evaluation-section {
        margin-top: 1.5rem;
        padding: 1.25rem;
        border-radius: 8px;
        
        h3 {
          margin-top: 0;
          margin-bottom: 0.75rem;
          font-size: 1.125rem;
        }
        
        .score {
          font-weight: 600;
          margin-bottom: 0.75rem;
        }
        
        &.ai-evaluation {
          background-color: rgba($secondary-color, 0.05);
          border-left: 4px solid $secondary-color;
          
          &.pending {
            background-color: rgba($accent-color, 0.05);
            border-left: 4px solid $accent-color;
          }
        }
        
        &.teacher-evaluation {
          background-color: rgba($success-color, 0.05);
          border-left: 4px solid $success-color;
        }
      }
    }
    
    .action-buttons {
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      margin-top: 1.5rem;
      
      .btn-primary {
        @include primary-button;
      }
      
      .btn-secondary {
        @include secondary-button;
      }
    }
  }
  
  // Submissions List
  .submissions-list {
    .header {
      margin-bottom: 1.5rem;
      
      h1 {
        margin-bottom: 0.5rem;
      }
    }
    
    .content-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
      
      @media (max-width: 992px) {
        grid-template-columns: 1fr;
      }
      
      .table-section {
        @include card;
        padding: 1.5rem;
        
        h3 {
          margin-top: 0;
          margin-bottom: 1rem;
          font-weight: 600;
          font-size: 1.2rem;
          color: $text-dark;
        }
        
        .table-container {
          overflow-x: auto;
          max-height: 600px;
          overflow-y: auto;
          border-radius: 6px;
          border: 1px solid $border-color;
        }
        
        table {
          width: 100%;
          border-collapse: collapse;
          
          th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid $border-color;
          }
          
          th {
            font-weight: 600;
            color: $text-light;
            position: sticky;
            top: 0;
            background-color: $background-light;
            z-index: 1;
            box-shadow: 0 1px 0 0 $border-color;
          }
          
          tbody tr {
            cursor: pointer;
            transition: background-color 0.2s;
            
            &:hover {
              background-color: rgba($primary-color, 0.03);
            }
            
            &.selected {
              background-color: rgba($primary-color, 0.08);
              border-left: 3px solid $primary-color;
            }
          }
          
          .student-name-cell {
            .student-name {
              font-weight: 500;
              margin-bottom: 0.2rem;
            }
            
            .student-grade {
              font-size: 0.85rem;
              color: $text-muted;
            }
          }
          
          .score-cell {
            .score {
              display: inline-block;
              padding: 0.25rem 0.5rem;
              border-radius: 4px;
              font-weight: 500;
              font-size: 0.9rem;
              
              &.score-excellent {
                background-color: rgba(46, 204, 113, 0.15);
                color: darken(#2ecc71, 15%);
              }
              
              &.score-good {
                background-color: rgba(52, 152, 219, 0.15);
                color: darken(#3498db, 15%);
              }
              
              &.score-average {
                background-color: rgba(243, 156, 18, 0.15);
                color: darken(#f39c12, 15%);
              }
              
              &.score-low {
                background-color: rgba(231, 76, 60, 0.15);
                color: darken(#e74c3c, 15%);
              }
            }
            
            .score-na {
              color: $text-muted;
              font-size: 0.9rem;
              font-style: italic;
            }
          }
          
          .btn-view {
            @include secondary-button;
            padding: 0.35rem 0.75rem;
            font-size: 0.875rem;
          }
        }
      }
      
      .detail-section {
        @include card;
        padding: 1.5rem;
        max-height: 800px;
        overflow-y: auto;
        
        .detail-tabs {
          display: flex;
          border-bottom: 1px solid $border-color;
          margin-bottom: 1.5rem;
          overflow-x: auto;
          white-space: nowrap;
          -webkit-overflow-scrolling: touch;
          
          &::-webkit-scrollbar {
            height: 3px;
          }
          
          &::-webkit-scrollbar-thumb {
            background-color: rgba($primary-color, 0.2);
            border-radius: 3px;
          }
          
          .tab-button {
            padding: 0.75rem 1.25rem;
            background: none;
            border: none;
            font-weight: 500;
            color: $text-light;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
            
            &:hover {
              color: $primary-color;
            }
            
            &.active {
              color: $primary-color;
              border-color: $primary-color;
            }
          }
        }
        
        h3 {
          margin-top: 0;
          margin-bottom: 1rem;
        }
        
        .student-meta {
          display: flex;
          justify-content: space-between;
          flex-wrap: wrap;
          margin-bottom: 1.25rem;
          padding-bottom: 1rem;
          border-bottom: 1px solid $border-color;
          
          .label {
            font-weight: 500;
            color: $text-muted;
            margin-right: 0.5rem;
          }
          
          .student-info {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
            
            .student-name {
              font-weight: 500;
            }
            
            .student-grade {
              color: $text-muted;
              font-size: 0.9rem;
              padding: 0.2rem 0.5rem;
              background-color: $background-light;
              border-radius: 4px;
            }
          }
        }
        
        .solution-container {
          margin-bottom: 1.5rem;
          
          h4 {
            margin-bottom: 0.75rem;
            color: $text-dark;
            font-weight: 600;
          }
          
          .solution-display {
            background-color: $background-light;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            border: 1px solid $border-color;
          }
          
          .evaluation-summary {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1.5rem;
            background-color: $background-light;
            padding: 1rem;
            border-radius: 8px;
            
            .evaluation-status, .score-display {
              padding: 0.75rem 1rem;
              border-radius: 6px;
              background-color: white;
              border: 1px solid $border-color;
              min-width: 150px;
              
              .status-title, .score-title {
                font-size: 0.8rem;
                color: $text-muted;
                margin-bottom: 0.25rem;
              }
              
              .status-value, .score-value {
                font-weight: 600;
                font-size: 1.1rem;
                
                &.submitted {
                  color: $accent-color;
                }
                
                &.ai-evaluated {
                  color: $secondary-color;
                }
                
                &.teacher-evaluated {
                  color: $success-color;
                }
                
                &.pending-review {
                  color: $secondary-dark;
                }
                
                &.score-excellent {
                  color: $success-color;
                }
                
                &.score-good {
                  color: $secondary-color;
                }
                
                &.score-average {
                  color: $warning-color;
                }
                
                &.score-low {
                  color: $danger-color;
                }
              }
            }
            
            .score-display {
              &.ai-score {
                background-color: rgba($secondary-color, 0.03);
              }
              
              &.teacher-score {
                background-color: rgba($success-color, 0.03);
              }
            }
          }
        }
        
        .evaluation-container {
          padding: 1.5rem;
          border-radius: 8px;
          margin-bottom: 1.5rem;
          
          &.ai-evaluation-tab {
            background-color: rgba($secondary-color, 0.05);
            border: 1px solid rgba($secondary-color, 0.1);
          }
          
          &.teacher-evaluation-tab {
            background-color: rgba($success-color, 0.05);
            border: 1px solid rgba($success-color, 0.1);
          }
          
          .evaluation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            
            h4 {
              margin: 0;
              font-weight: 600;
              color: $text-dark;
            }
            
            .score {
              display: flex;
              align-items: center;
              padding: 0.5rem 1rem;
              border-radius: 30px;
              font-weight: 600;
              
              &.score-excellent {
                background-color: rgba(46, 204, 113, 0.15);
              }
              
              &.score-good {
                background-color: rgba(52, 152, 219, 0.15);
              }
              
              &.score-average {
                background-color: rgba(243, 156, 18, 0.15);
              }
              
              &.score-low {
                background-color: rgba(231, 76, 60, 0.15);
              }
              
              .score-label {
                margin-right: 0.5rem;
                font-weight: 500;
                font-size: 0.9rem;
              }
              
              .score-value {
                font-size: 1.1rem;
              }
            }
          }
          
          .evaluation-feedback {
            margin-bottom: 1.5rem;
            
            h5 {
              margin-top: 0;
              margin-bottom: 0.75rem;
              font-weight: 600;
              color: $text-dark;
              font-size: 1rem;
            }
            
            .feedback-content {
              background-color: white;
              border-radius: 8px;
              padding: 1rem;
              border: 1px solid $border-color;
            }
          }
          
          .teacher-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 1.5rem;
            
            .btn-primary {
              @include primary-button;
            }
          }
          
          .ai-comparison {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: $background-light;
            border-radius: 8px;
            
            h5 {
              margin-top: 0;
              margin-bottom: 0.75rem;
              font-weight: 600;
              font-size: 1rem;
            }
            
            .comparison-score {
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 0.75rem 1rem;
              background-color: white;
              border-radius: 8px;
              border: 1px solid $border-color;
              
              .ai-score-value {
                color: $secondary-color;
                font-weight: 500;
              }
              
              .difference {
                font-weight: 600;
                padding: 0.25rem 0.75rem;
                border-radius: 30px;
                background-color: $background-light;
                
                &:first-letter {
                  color: $success-color;
                }
              }
              
              .teacher-score-value {
                color: $success-color;
                font-weight: 500;
              }
            }
          }
        }
        
        .evaluation-form {
          margin-top: 1rem;
          
          .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            
            h4 {
              margin: 0;
              font-weight: 600;
              color: $text-dark;
            }
            
            .ai-score-reference {
              padding: 0.5rem 1rem;
              background-color: rgba($secondary-color, 0.1);
              border-radius: 8px;
              
              .reference-label {
                font-weight: 500;
                margin-right: 0.5rem;
                color: $text-light;
              }
              
              .reference-value {
                font-weight: 600;
                
                &.score-excellent {
                  color: darken($success-color, 10%);
                }
                
                &.score-good {
                  color: darken($secondary-color, 10%);
                }
                
                &.score-average {
                  color: darken($warning-color, 10%);
                }
                
                &.score-low {
                  color: darken($danger-color, 10%);
                }
              }
            }
          }
          
          .ai-score-toggle {
            margin-bottom: 1.5rem;
            
            .toggle-container {
              display: flex;
              align-items: center;
              cursor: pointer;
              
              input[type="checkbox"] {
                margin-right: 0.5rem;
              }
              
              .toggle-text {
                font-weight: 500;
                color: $secondary-color;
              }
            }
          }
          
          .form-group {
            margin-bottom: 1.25rem;
            
            label {
              display: block;
              margin-bottom: 0.5rem;
              font-weight: 500;
              color: $text-dark;
            }
            
            &.score-input {
              input[type="number"] {
                padding: 0.75rem;
                border: 1px solid $border-color;
                border-radius: 6px;
                width: 5rem;
                font-size: 1rem;
                font-weight: 600;
                text-align: center;
                transition: all 0.2s;
                
                &:focus {
                  border-color: $primary-color;
                  outline: none;
                  box-shadow: 0 0 0 2px rgba($primary-color, 0.1);
                }
                
                &:disabled {
                  background-color: $background-light;
                  opacity: 0.7;
                }
                
                &.score-excellent {
                  color: $success-color;
                  border-color: $success-color;
                }
                
                &.score-good {
                  color: $secondary-color;
                  border-color: $secondary-color;
                }
                
                &.score-average {
                  color: $warning-color;
                  border-color: $warning-color;
                }
                
                &.score-low {
                  color: $danger-color;
                  border-color: $danger-color;
                }
              }
              
              .score-indicator {
                margin-top: 1rem;
                
                .score-visual {
                  height: 8px;
                  background-color: $background-light;
                  border-radius: 4px;
                  overflow: hidden;
                  margin-bottom: 0.5rem;
                  
                  .score-fill {
                    height: 100%;
                    border-radius: 4px;
                    transition: width 0.3s ease;
                    
                    &.score-excellent {
                      background-color: $success-color;
                    }
                    
                    &.score-good {
                      background-color: $secondary-color;
                    }
                    
                    &.score-average {
                      background-color: $warning-color;
                    }
                    
                    &.score-low {
                      background-color: $danger-color;
                    }
                  }
                }
                
                .score-label {
                  font-size: 0.9rem;
                  color: $text-muted;
                  text-align: right;
                }
              }
            }
            
            .ai-feedback-reference {
              margin-bottom: 1rem;
              border: 1px solid rgba($secondary-color, 0.2);
              border-radius: 8px;
              overflow: hidden;
              
              .reference-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0.75rem 1rem;
                background-color: rgba($secondary-color, 0.05);
                border-bottom: 1px solid rgba($secondary-color, 0.2);
                
                .reference-title {
                  font-weight: 500;
                  color: $secondary-dark;
                }
                
                .use-ai-feedback {
                  background-color: rgba($secondary-color, 0.1);
                  border: none;
                  color: $secondary-dark;
                  padding: 0.35rem 0.75rem;
                  border-radius: 4px;
                  font-size: 0.85rem;
                  cursor: pointer;
                  transition: all 0.2s;
                  
                  &:hover {
                    background-color: rgba($secondary-color, 0.2);
                  }
                }
              }
              
              .reference-content {
                padding: 1rem;
                max-height: 200px;
                overflow-y: auto;
                background-color: white;
              }
            }
            
            textarea {
              width: 100%;
              padding: 0.75rem;
              border: 1px solid $border-color;
              border-radius: 6px;
              resize: vertical;
              min-height: 100px;
              font-family: inherit;
              font-size: 0.95rem;
              
              &:focus {
                outline: none;
                border-color: $primary-color;
                box-shadow: 0 0 0 2px rgba($primary-color, 0.1);
              }
            }
          }
          
          .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            margin-top: 2rem;
            
            .btn-secondary {
              @include secondary-button;
            }
            
            .btn-primary {
              @include primary-button;
            }
          }
        }
      }
      
      .no-submission-selected {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 400px;
        
        .empty-state {
          text-align: center;
          
          .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: $border-color;
          }
          
          p {
            color: $text-muted;
            margin-bottom: 0.5rem;
            
            &.empty-hint {
              font-size: 0.9rem;
              max-width: 250px;
              margin: 0 auto;
            }
          }
        }
      }
    }
  }
  
  // Solution Submission
  .solution-submit {
    .header {
      margin-bottom: 1.5rem;
      
      h1 {
        margin-bottom: 0.25rem;
      }
      
      .assignment-title {
        color: $text-light;
        font-size: 1.25rem;
      }
    }
    
    .deadline-info {
      @include card;
      padding: 1rem;
      margin-bottom: 1.5rem;
      border-left: 4px solid $warning-color;
      display: flex;
      flex-direction: column;
      
      .deadline-date {
        font-weight: 500;
        
        .label {
          color: $text-muted;
          margin-right: 0.5rem;
        }
      }
      
      .deadline-warning {
        margin-top: 0.5rem;
        color: $danger-color;
        font-weight: 500;
      }
    }
    
    .existing-submission {
      @include card;
      padding: 1rem;
      margin-bottom: 1.5rem;
      border-left: 4px solid $secondary-color;
      background-color: rgba($secondary-color, 0.05);
      
      p {
        margin: 0.5rem 0;
      }
    }
    
    .error-message {
      background-color: rgba($danger-color, 0.05);
      border-left: 4px solid $danger-color;
      color: $danger-color;
      padding: 1rem;
      border-radius: 6px;
      margin-bottom: 1.5rem;
    }
    
    .solution-form {
      .form-group {
        margin-bottom: 1.5rem;
        
        label {
          display: block;
          font-weight: 600;
          margin-bottom: 0.75rem;
        }
        
        .markdown-guide {
          background-color: $background-light;
          border: 1px solid $border-color;
          border-radius: 8px;
          padding: 1rem;
          margin-bottom: 1rem;
          
          h4 {
            margin-top: 0;
            margin-bottom: 0.75rem;
            font-size: 1rem;
            color: $text-dark;
          }
          
          p {
            margin-bottom: 0.75rem;
            font-size: 0.9rem;
          }
          
          .code-guide {
            background-color: white;
            border: 1px solid $border-color;
            border-radius: 6px;
            padding: 1rem;
            
            h5 {
              margin-top: 0;
              margin-bottom: 0.5rem;
              font-size: 0.9rem;
            }
            
            pre {
              background-color: #f6f8fa;
              border-radius: 4px;
              padding: 0.75rem;
              font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
              font-size: 0.85rem;
              overflow-x: auto;
              margin-bottom: 1rem;
              white-space: pre-wrap;
              color: #24292e;
            }
            
            ul {
              padding-left: 1.5rem;
              margin-bottom: 0;
              
              li {
                margin-bottom: 0.3rem;
                font-size: 0.85rem;
              }
            }
          }
        }
        
        .solution-textarea {
          width: 100%;
          padding: 1rem;
          border: 1px solid $border-color;
          border-radius: 8px;
          font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
          font-size: 0.9rem;
          line-height: 1.5;
          min-height: 250px;
          resize: vertical;
          
          &:focus {
            outline: none;
            border-color: $primary-color;
            box-shadow: $focus-shadow;
          }
        }
        
        .file-input-container {
          margin-top: 0.75rem;
          
          .file-input {
            display: block;
            margin-bottom: 1rem;
          }
          
          .selected-files {
            margin-top: 1rem;
            
            h4 {
              font-size: 1rem;
              margin-bottom: 0.75rem;
            }
            
            .file-list {
              list-style: none;
              padding: 0;
              
              .file-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0.6rem 1rem;
                background-color: $background-light;
                border-radius: 6px;
                margin-bottom: 0.5rem;
                
                .remove-button {
                  background: none;
                  border: none;
                  color: $danger-color;
                  cursor: pointer;
                  font-weight: bold;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  width: 24px;
                  height: 24px;
                  border-radius: 50%;
                  
                  &:hover {
                    background-color: rgba($danger-color, 0.1);
                  }
                }
              }
            }
          }
        }
      }
      
      .form-actions {
        display: flex;
        justify-content: flex-end;
        gap: 1rem;
        
        .btn-secondary {
          @include secondary-button;
        }
        
        .btn-primary {
          @include primary-button;
        }
      }
    }
  }
  
  // Preview component styles
  .preview-container {
    margin: 1.5rem 0;
    
    .preview-toggle {
      text-align: right;
      margin-bottom: 0.75rem;
      
      button {
        background-color: $background-light;
        border: 1px solid $border-color;
        color: $primary-color;
        border-radius: 6px;
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
        cursor: pointer;
        
        &:hover {
          background-color: darken($background-light, 3%);
        }
        
        &:focus {
          outline: none;
          box-shadow: $focus-shadow;
        }
      }
    }
    
    .preview-content {
      @include card;
      overflow: hidden;
      
      .preview-header {
        background-color: $background-light;
        padding: 0.75rem 1rem;
        border-bottom: 1px solid $border-color;
        display: flex;
        justify-content: space-between;
        align-items: center;
        
        h4 {
          margin: 0;
          font-size: 1rem;
        }
        
        button {
          background: none;
          border: none;
          color: $primary-color;
          cursor: pointer;
          font-size: 0.9rem;
          
          &:hover {
            text-decoration: underline;
          }
        }
      }
      
      .preview-body {
        padding: 1.25rem;
        max-height: 400px;
        overflow-y: auto;
        background-color: white;
      }
      
      .empty-preview {
        padding: 2rem;
        text-align: center;
        color: $text-muted;
        font-style: italic;
      }
    }
  }
  
  // Create assignment styles
  .create-assignment {
    .header {
      margin-bottom: 1.5rem;
      text-align: center;
      
      h1 {
        margin-bottom: 0.5rem;
      }
      
      .group-info {
        color: $text-light;
        font-size: 1.1rem;
      }
    }
    
    .error-message {
      background-color: rgba($danger-color, 0.05);
      border-left: 4px solid $danger-color;
      color: $danger-color;
      padding: 1rem;
      border-radius: 6px;
      margin-bottom: 1.5rem;
    }
    
    .assignment-form {
      .form-group {
        margin-bottom: 1.5rem;
        
        label {
          display: block;
          font-weight: 600;
          margin-bottom: 0.75rem;
        }
        
        input[type="text"],
        input[type="datetime-local"],
        textarea {
          width: 100%;
          padding: 0.75rem;
          border: 1px solid $border-color;
          border-radius: 8px;
          
          &:focus {
            outline: none;
            border-color: $primary-color;
            box-shadow: $focus-shadow;
          }
        }
        
        textarea {
          min-height: 200px;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
          resize: vertical;
        }
      }
      
      .form-actions {
        display: flex;
        justify-content: flex-end;
        gap: 1rem;
        margin-top: 2rem;
        
        .btn-secondary {
          @include secondary-button;
        }
        
        .btn-primary {
          @include primary-button;
        }
      }
    }
  }
  
  // Assignments list styles
  .assignments-list-container {
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      
      h1 {
        margin: 0;
        font-size: 2.2rem;
        background: linear-gradient(120deg, $primary-color, $primary-light);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      .create-button {
        @include primary-button;
        display: flex;
        align-items: center;
        
        &:before {
          content: "+";
          margin-right: 0.5rem;
          font-size: 1.2rem;
          font-weight: bold;
        }
      }
    }
    
    .group-info {
      font-size: 1.1rem;
      color: $text-light;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid $border-color;
      
      .loading-indicator {
        display: inline-block;
        position: relative;
        width: 80px;
        height: 16px;
        
        &:after {
          content: "";
          display: inline-block;
          width: 80px;
          height: 16px;
          background: linear-gradient(90deg, 
            rgba($primary-color, 0.1) 25%, 
            rgba($primary-color, 0.3) 50%, 
            rgba($primary-color, 0.1) 75%
          );
          background-size: 200% 100%;
          animation: loading-animation 1.5s infinite;
          border-radius: 4px;
        }
      }
    }
    
    .assignments-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.8rem;
      
      .assignment-card {
        @include card;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid transparent;
        display: flex;
        flex-direction: column;
        height: 100%;
        position: relative;
        overflow: visible;
        
        &:before {
          content: "";
          position: absolute;
          top: -5px;
          left: 15px;
          right: 15px;
          height: 5px;
          background: linear-gradient(90deg, $primary-color, $secondary-color);
          border-radius: 5px 5px 0 0;
          opacity: 0.8;
          transition: all 0.3s ease;
        }
        
        // Add a subtle border animation
        &:after {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border-radius: 10px;
          background: linear-gradient(135deg, $primary-color, $secondary-color, $primary-color);
          background-size: 400% 400%;
          opacity: 0;
          transition: opacity 0.3s ease;
          z-index: -1;
          animation: gradientShift 8s ease infinite;
        }
        
        &:hover {
          transform: translateY(-8px);
          box-shadow: $hover-shadow;
          border-color: rgba($primary-color, 0.1);
          
          &:before {
            top: -8px;
            opacity: 1;
          }
          
          &:after {
            opacity: 0.07;
          }
          
          .card-title a {
            color: $primary-color;
          }
        }
        
        .card-body {
          padding: 1.8rem;
          display: flex;
          flex-direction: column;
          flex-grow: 1;
        }
        
        .card-title {
          font-size: 1.35rem;
          font-weight: 600;
          margin-bottom: 1.2rem;
          line-height: 1.3;
          
          a {
            color: $text-dark;
            text-decoration: none;
            transition: color 0.2s ease;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            
            &:hover {
              color: $primary-color;
            }
          }
        }
        
        .card-meta {
          display: flex;
          justify-content: space-between;
          margin-bottom: 1.2rem;
          
          .deadline {
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            background-color: $background-light;
            padding: 0.4rem 0.8rem;
            border-radius: 50px;
            font-weight: 500;
            
            &:before {
              content: "‚è±";
              margin-right: 0.5rem;
              font-size: 0.9rem;
            }
            
            &.approaching {
              background-color: rgba($warning-color, 0.15);
              color: darken($warning-color, 15%);
              
              &:before {
                content: "‚ö†Ô∏è";
              }
            }
            
            &.overdue {
              background-color: rgba($danger-color, 0.15);
              color: darken($danger-color, 15%);
              
              &:before {
                content: "‚ùó";
              }
            }
            
            .relative-time {
              margin-left: 0.3rem;
              font-weight: 600;
              font-size: 0.85rem;
            }
          }
        }
        
        .card-description {
          color: $text-light;
          margin-bottom: 1.5rem;
          overflow: hidden;
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          line-height: 1.5;
          flex-grow: 1;
          position: relative;
          font-size: 0.95rem;
          
          &:after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 25px;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,1));
          }
        }
        
        .card-footer {
          padding: 1.2rem 1.8rem;
          background-color: $background-light;
          border-top: 1px solid $border-color;
          display: flex;
          justify-content: space-between;
          align-items: center;
          
          .status {
            font-size: 0.9rem;
            font-weight: 500;
          }
          
          .action-buttons {
            display: flex;
            gap: 0.8rem;
          }
          
          .action-button {
            @include secondary-button;
            padding: 0.4rem 0.9rem;
            font-size: 0.85rem;
            border-radius: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border: 1px solid $border-color;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            
            &.primary {
              background: linear-gradient(135deg, $primary-color, $primary-light);
              color: white;
              border: none;
              
              &:hover {
                background: linear-gradient(135deg, darken($primary-color, 5%), darken($primary-light, 5%));
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);
              }
            }
            
            &:hover {
              transform: translateY(-2px);
              box-shadow: 0 3px 6px rgba(0,0,0,0.08);
            }
          }
        }
      }
    }
    
    .no-assignments {
      @include card;
      padding: 4rem 2rem;
      text-align: center;
      
      p {
        color: $text-muted;
        margin-bottom: 2rem;
        font-size: 1.1rem;
      }
      
      .create-button {
        @include primary-button;
        background: linear-gradient(135deg, $primary-color, $primary-light);
        box-shadow: 0 4px 10px rgba($primary-color, 0.2);
        
        &:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 15px rgba($primary-color, 0.25);
        }
      }
    }
  }
  
  // Markdown content styles
  .markdown-content {
    line-height: 1.6;
    
    // Headers
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.5rem;
      margin-bottom: 1rem;
      font-weight: 600;
    }
    
    h1 { font-size: 1.8rem; }
    h2 { font-size: 1.5rem; }
    h3 { font-size: 1.25rem; }
    h4 { font-size: 1.1rem; }
    h5 { font-size: 1rem; }
    h6 { font-size: 0.9rem; }
    
    // Paragraphs and spacing
    p, ul, ol {
      margin-bottom: 1rem;
    }
    
    // Lists
    ul, ol {
      padding-left: 1.5rem;
      
      li {
        margin-bottom: 0.5rem;
      }
    }
    
    // Code blocks
    pre {
      margin: 1rem 0;
      border-radius: 8px;
      overflow: hidden;
      
      code {
        font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
      }
    }
    
    // Inline code
    :not(pre) > code {
      background-color: rgba(0, 0, 0, 0.05);
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
      font-size: 0.9em;
      white-space: nowrap;
    }
    
    // Blockquotes
    blockquote {
      border-left: 4px solid $primary-color;
      padding: 0.5rem 1rem;
      margin: 1rem 0;
      background-color: rgba($primary-color, 0.05);
      
      p:last-child {
        margin-bottom: 0;
      }
    }
    
    // Tables
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      
      th, td {
        padding: 0.5rem;
        border: 1px solid $border-color;
      }
      
      th {
        background-color: $background-light;
        font-weight: 600;
      }
      
      tr:nth-child(even) {
        background-color: $background-light;
      }
    }
    
    // Horizontal rule
    hr {
      height: 1px;
      background-color: $border-color;
      border: none;
      margin: 2rem 0;
    }
    
    // Images
    img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 1rem auto;
      border-radius: 8px;
    }
    
    // Syntax highlighting container
    .syntax-highlighter-container {
      margin: 1rem 0;
      border-radius: 8px;
      overflow: hidden;
      
      pre {
        margin: 0 !important;
      }
    }
  }
}

// Animations
@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes loading-animation {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
} 